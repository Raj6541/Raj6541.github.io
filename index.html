const urlInput = document.getElementById('urlInput');
const playButton = document.getElementById('playButton');

playButton.addEventListener('click', function() {
  const m3u8Url = urlInput.value.trim();

  // Basic validation
  if (m3u8Url === '') {
    alert('Please enter a valid M3U8 URL');
    return;
  }

  // Regular expression for M3U8 URL format (example)
  const urlPattern = /^(https?)\:\/\/[^\s\/]+\.m3u8$/;
  if (!urlPattern.test(m3u8Url)) {
    alert('Invalid M3U8 URL format. Please enter a valid URL ending with .m3u8');
    return;
  }

  // Forward to /player?url=m3u8url
  window.location.href = '/player?url=' + encodeURIComponent(m3u8Url);
});
